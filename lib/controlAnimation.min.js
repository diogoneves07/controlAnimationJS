/* Copyright ( c ) 2021, FlyNeves - Diogo Neves. All rights reserved. | controlAnimationJS - 1.0.0  | LICENSE.md or MIT License ( MIT )*/
(function(k,q,p){function r(a){for(var b=a.length;b--;)a[b]=y(a[b]);return a.sort(function(c,d){return c-d})}function x(a,b){var c=parseInt(Math.random()*a.length);return a[c]==b?a[0<=c-1?c-1:c+1]:a[c]}function hb(a,b,c,d){function e(v,w){var t=y(v);w=y(w);var H=ib(w,t);v=v.split(t)[1]||"";H=H/d*c;H=t>w?t-H:t+H;1<v.split(".").length?v=v.replace(/[.]+/g,""):H=Math.round(H);return H+v}a=Ga(a);b=Ga(b);for(var h=b.length,g="";h--;){var f=b[h],n=a[h];if(1<f.toLowerCase().split("rgb").length||na(f))f=na(f)?
Ha(f):f,n=na(n)?Ha(n):n;if(1<f.split("(").length){n=n.split("(");n=n.splice(1,n.length).join("").split(",");f=f.split("(");var m=f[0];f=f.splice(1,f.length).join("").split(",");var l=-1,z=f.length-1;m+="(";for(var u=0;l++<z;)if(""!==f[l]){var A=n[l].replace(/[)]+/g,""),G=f[l].replace(/[)]+/g,"");G=e(A,G);m=0===u?m+G:m+", "+G;u++}f=m+")"}else isNaN(y(f))||(f=e(n,f));g=f+" "+g}return g}function oa(a){return pa(a).split(", ").join(",").split(" ,").join(",").split("( ").join("(").split(" )").join(")")}
function Ia(a,b){var c=0,d={},e=b[0],h;e=M(e)?e:E(e);a.v={};a.style=X(d);for(h in b)if(!isNaN(h)){var g=X(b[h]),f=y(h);a.v[f]=g;N(g)&&(g=E(g),a.v[f]=E(b[f]));if(M(g)){if(0==f)var n=qa(g);else{n=e;n=da(n).split(";");g=da(g).split(";");for(var m=n.length;m--;)if(g[m]){var l=g[m].split(":"),z=l[1]?l[0]:"",u=isNaN(parseInt(z))?m:parseInt(z),A=n[u].split(":")[1]||n[u];l=da(" "+(l[1]||g[m])).split(" ");var G=da(" "+A).split(" "),v=l.length;for(A="";v--;){var w=l[v];w&&(isNaN(w)?A=l[v]+" "+A:(w=G[v],w=w.split(y(w))[1]||
"",A=y(l[v])+w+" "+A))}l=g[m].split(":");2>l.length?g[m]=n[u].split(":")[0]+":"+A:isNaN(y(l[0]))?g[m]=z+":"+A:g[m]=n[parseInt(l)].split(":")[0]+":"+A;g[m]+=";"}n=qa(g.join(""))}g=n;g=qa(g+";"+E(d[f]||{}));d[f]=ea(g);a.style[f]=X(d[f])}else d[f]=b[h],a.style[f]={},a.v[f]=b[f];c=f>c?f:c;a.w=c}a.J||(d[a.w]=ea(E(b[0])+E(d[a.w])));a.style=d}function Ja(a){var b=a.elements,c=b.length,d=a.o;a="."+a.className;for(Y[a]=Z[a]=null;c--;)if((a=b[c])&&a.parentElement){var e=d.T[c],h=d.H[c];e&&(a.scrollTop=e[0],
a.scrollLeft=e[1],a.style.cssText=h)}Ka()}function jb(a){if(1<a.split("-").length)return a;a=a.split("");for(var b=a.length,c="";b--;){var d=a[b];d===d.toUpperCase()&&isNaN(y(d))&&(d="-"+d.toLowerCase());c=d+c}return c.split("-$").join("$")}function Ga(a){a=oa(a).split(" ");for(var b=a.length,c=[];b--;)""!==a[b]&&(c[c.length]=O(a[b]));return c}function E(a){if(M(a))return a;var b="",c;for(c in a)b=(b+jb(c)+": "+pa(a[c])+"; ").split(" ;").join(";");return b}function ea(a){if(N(a))return a;a=(a+";").split(";");
for(var b=a.length-1,c=-1,d={};c++<b;){var e=a[c].split(":");if(e[1]){var h=e[0];h=O(h).split("");for(var g=h.length,f="";g--;){var n=h[g];"-"===n&&(f=f.split(""),n=f[0].toUpperCase(),f[0]="",f=f.join(""));f=n+f}f=f.split("");f[0]=f[0].toLowerCase();d[O(f.join(""))]=pa(e[1])}}return d}function qa(a){a=ea(a);return E(a)}function La(a){if(void 0===a)return B;for(var b=B.length,c=[];b--;){var d=B[b];d.name===a&&(c[c.length]=d)}return c[1]?c:c[0]}function aa(a){var b=S.length;for(a=F(a.animationId)?a.animationId:
a.h;b--;){var c=S[b];if(c&&a===c.h)return c}}function X(a){if(!N(a))return a;var b={},c;for(c in a)b[c]=a[c];return b}function Ma(a){var b=B[a.j],c=a.v,d=a.keys,e=d.length,h=a.C;for(a=a.aa;e--;){var g=d[e],f=b[g];f=N(f)?E(f):f;if(c[g]!==f)return"keyframes"}for(e=a.length;e--;)if(c=a[e],h[c]!==b[c])return"property"}function T(a){var b=B[a.j],c=a.C;b.iterationsComplete=c.iterationsComplete=a.s;b.progress=c.progress=a.progress;b.state=c.state=a.state;b.maxProgress=c.maxProgress=a.f}function MyAnimation(a){var b;
a=a?a:Na;var c=this instanceof MyAnimation?this:new MyAnimation;for(b in a)I(a[b])&&"easing"!=b||(c[b]=a[b]);return c}function U(a,b){if(!(this instanceof U))return new U(a,b);if(a.length){for(var c=a.length;c--;)U(a[c],b);C={}}else{if(!a||!N(a))throw Error("controlAnimationJSError: The sent animation object is Invalid, try another.");this.direction=a.direction=a.direction?a.direction:D.R;this.iterations=a.iterations=Math.max(a.iterations,1);this.easing=a.easing;this.call=a.call=a.call||!1;this.I=
a.insertStyle=a.insertStyle;this.s=a.iterationsComplete=a.iterationsComplete||0;this.$=a.delay=a.delay;this.O=a.duration;this.J=a.keepFrameStyle;this.state=a.state=Q.F;this.fill=a.fill;a.listenerFired=!1;this.progress=this.G=a.progress;this.delay=Oa(this.$);this.duration=Oa(this.O);if("new"===b)return a;this.o={};this.o.H=[];this.o.T=[];this.U=a.styleBetweenFrames;this.elements=(this.elements=this.ga=a.element)&&this.elements[0]?this.elements:[this.elements];Ia(this,a);this.keys=r(ra(this.style));
this.f=a.maxProgress=a.maxProgress;sa(this);this.f=void 0===this.f?this.a:this.f;this.progress=a.progress=F(a.progress)?a.progress:this.progress;if("clone"===b)return this;a.animationId=this.h=a.animationId||fa;a.name=a.name||fa;this.className=a.className=a.className?a.className:"controlAnimationJS-class--"+fa;c=a;var d;this.C={};for(d in c)if(isNaN(d)&&!I(c[d])&&"animationId"!==d){var e=c[d];this.C[d]=N(e)&&e.length&&e.slice?e.slice():e}this.aa=ra(this.C);if("update"===b)return this;this.m=0;B[B.length]=
a;this.j=S.push(this)-1;fa++;a=a instanceof MyAnimation?a:new MyAnimation(a);C.b?(this.b=C.b,this.c=C.c,this.g=C.g,this.l=C.l,this.D=C.D,a.timeline={normal:this.b,reverse:this.g},ta(this)):(kb(this,a,b),!0===b&&(C.b=this.b,C.c=this.c,C.g=this.g,C.l=this.l,C.D=this.D));return a}}function ua(a,b){a.b={};var c;var d=ha[a.duration];if(d&&d[1]===a.easing){var e=d[0].length;for(c={};e--;)c[d[0][e]]={}}else{e=d=0;var h=a.w,g=a.duration,f=a.easing;c={};for(ha[g]=[[]];e!=h;)I(f)?(d+=18,e=f(d>g?g:d,0,h,g)):
e+=f||1,c[e]={},e>h&&(e=h,c[h]={}),ha[g][0].push(e);ha[g][1]=a.easing}a.b=c;c=a.keys;for(d=c.length;d--;)e=c[d],a.b[e]=a.style[e];a.c=r(ra(a.b));a.l=a.c.slice().reverse();c=a.b;d="";e={};h=a.c;f=h.length-1;for(var n=1,m=X(c[0]),l;n++<f;){l=h[n];g=c[l];var z=n;for(t in g){for(;z--;)if(g=h[z],!c[g][t]&&(g in a.style?a.U:1))e[l]||(e[l]={}),e[l][t]||(e[l][t]={keys:[]},e[l][t].ba=c[l][t]),e[l][t].keys.push(g);else{e[l]&&e[l][t]&&(m[t]=c[g][t]||m[t],e[l][t].ja=m[t],e[l][t].ia=g);break}z=n}}for(l in e){f=
e[l];for(t in f){h=f[t];n=h.ba;m=h.ja;z=h.ia;h=h.keys;for(var u=h.length;u--;){g=h[u];for(var A=oa(m).split(" "),G=oa(n).split(" "),v=G.length,w="";v--;)w=hb(A[v],G[v],y(g)-y(z),y(l)-y(z))+" "+w;c[g][t]=w}}a.J&&(d+=E(c[l]),c[l]=ea(d),d=E(c[l]))}for(l in c)c[l].cssText=E(c[l]);a.b=c;l=a.b;var t=a.c;c=t.slice().reverse();d={};for(e=c.length;e--;)d[c[e]]=l[t[e]];a.g=d;a.D=a.duration/a.c.length;b.timeline={normal:a.b,reverse:a.g}}function ta(a){setTimeout(function(){T(a);V(a,1)},0)}function kb(a,b,c){if(!0===
c)ua(a,b),ta(a);else var d=setTimeout(function(){ua(a,b);ta(a);clearTimeout(d)},0)}function sa(a){var b=a.direction,c=a.progress||0,d=a.w,e=a.A,h=a.c||a.keys,g=!F(a.progress)&&1<b.split("fluid").length;a.A="normal";g&&(c=x(b===D.L?a.keys:h,a.a));a.progress=c;b===D.ea||b===D.P?a.a=x(b===D.P?a.keys:h,c):b===D.L||b===D.ha?(a.a=x(b===D.L?a.keys:h,c),a.progress=0):b===D.reverse||b===D.X&&(!e||"normal"===e)||b===D.W&&"normal"===e?(a.progress=d,a.a=0,a.A="reverse"):(a.progress=0,a.a=d);a.f&&a.f[0]&&("restart"===
a.f[a.m]&&(a.m=0),a.a=a.f[a.m]||a.a,a.m++)}function V(a,b){var c={},d=a.a,e=a.duration,h=a.progress;a.S=h>d;c.progress=h;c.a=d;c.fa=0>=e;c.u=b;a.B=c;Pa(a)}function Qa(){for(var a=S.length,b=0;a--;){var c=S[a];c&&c.state==Q.F&&b++}if(0<b&&ba>=b){ba=0;for(var d in Z)(a=Z[d])&&(b=a.element)&&b.parentElement&&(b.style.cssText=a.style);Z={};Ka()}}function Ka(){var a=" ";for(c in Y){var b=Y[c];b&&(a=a+c+"{"+b+"}")}if(a!==Ra){Ra=a;Sa.parentElement||Ta();var c=Sa;c.styleSheet?c.styleSheet.cssText=a:(b=M(c.textContent)?
"textContent":M(c.nodeValue)?"nodeValue":"innerText",M(a)&&(c[b]=a))}}function Pa(a){var b=va,c=a.B;1===c.u&&(b=F(a.delay)?a.delay:va,ba++);c.fa||!a.delay&&c.u||2===c.u?(c.u=!1,ba--,Ua(a)):(c.u=!1,b=wa(function(){Ua(a,1)},b,a),W[W.length]=[b,a])}function Ua(a,b){ba++;var c=a.B;b=b?a.h:!1;var d=a.S;if(Ma(a)){c=a.j;b=B[c];d=U(b,"update");var e=b.maxProgress!==a.f||a.direction!==b.direction;d.state=b.state;d.h=b.animationId;d.className=b.className;d.i=a.i;d.G=a.G;d.m=a.m;"keyframes"===Ma(a)||a.J!==b.keepFrameStyle||
a.U!==b.styleBetweenFrames||a.O!==b.duration||a.easing!==b.easing?ua(d,b):(d.b=a.b,d.c=a.c,d.g=a.g,d.l=a.l);d.progress=b.progress;d.a=e?d.a:a.a;S[c]=d;d.j=c;T(d);d.iterations>=b.iterationsComplete?V(d,2):a.i=null}else if(a.call&&I(a.call)&&a.call.call(k,B[a.j]),c.progress!=c.a){a.M||(ca(xa,a,"start"),a.M=!0);var h;if("normal"===a.A){var g=a.b;var f=a.c}else g=a.g,f=a.l;var n=a.progress,m=h=f.length,l="normal"===a.A,z=a.S;h--;if(z&&l||!z&&!l)for(;m--;){var u=f[m];if(!l&&u>n){m=h-m;e=g[f[m]];break}if(l&&
u<n){e=g[u];break}}else for(m=-1;m++<h;){u=f[m];if(!l&&u<n){m=h-m;e=g[f[m]];break}if(l&&u>n){e=g[u];break}}e||(u=f[0>m?0:m-1],e=g[u]);a.B.progress=u;h=e;if((e=h.cssText)&&a.elements[0]){u=a.elements;g=f=u.length;f="auto"==a.I&&2>f;m=h.la;n=y(h.ma||(m?m[0]:!1));h=y(h.ka||(m?m[1]:!1));m="."+a.className;for(e=e.replace(/\$[^>](.*?);/g,"");g--;)l=u[g],M(a.o.H[g])||(a.o.H[g]=l.style.cssText,a.o.T[g]=[l.scrollTop,l.scrollLeft]),"inline"==a.I||f?(Z[m]={element:l,style:e},Y[m]=null):1<l.className.split(" "+
a.className).length||(l.className=l.className+" "+a.className),F(n)&&(l.scrollTop=n),F(h)&&(l.scrollLeft=h);"tag"!=a.I||f||(e=e.split(";").join(" !important;"),Y[m]=e)}Qa();if(c.progress in a.style||a.K)a.K?(ca(ya,a,"changekeys"),a.K=!1):a.K=!0;if(!d&&c.progress>c.a||d&&c.progress<c.a)c.progress=c.a;a.progress=c.progress;T(a);F(b)&&ia(b);Pa(a)}else Qa(),a.progress=c.a,T(a),ia(a),c=a.iterations,b=a.progress,a.i&&a.s--,a.s++,c>a.s||c===p||F(a.fill)&&!a.da?(sa(a),a.i&&(a.i=null,a.progress=b),Ia(a,B[a.j]),
c<=a.s+1&&F(a.fill)?(a.a=a.fill,a.da=!0):ca(ja,a,"iterations"),a.B=null,T(a),V(a,1)):(ca(ja,a,"iterations"),a.state=Q.Z,a.fill||Ja(a),T(a),ca(za,a,"maxProgress"))}function ia(a){var b=F(a)?a:a.h||a.animationId;a=!1;for(var c=W.length;c--;){var d=W[c],e=d[0];if(d[1].h===b){a=!0;clearTimeout(e);for(d=R.length;d--;)if(e=R[d],e[2].h===b){k.cancelAnimationFrame(e[0]);clearTimeout(e[1]);R.splice(d,1);break}W[c]=null;W.splice(c,1);break}}return a}function J(a){for(var b=B.length,c=B.slice();b--;)a[0].call(k,
c[b],a[1],a[2])}function Va(a){a.state=Q.paused;ia(a,1)}function Wa(a){var b=aa(a);b&&(a.state=Q.F,V(b,2))}function Aa(a,b){if(a=aa(a)){var c=a.A;b<a.progress?(b="reverse"===c?a.w-b:b,a.a=b,V(a,2)):a.i=!1}}function Xa(a,b){var c=aa(a);c&&(c.i=!0,Aa(a,b))}function Ya(a){var b=aa(a);b&&(a.state=Q.F,a.iterationsComplete=0,b.progress=b.G,sa(b),b.M=!1,V(b,1))}function Za(a){var b=aa(a);a.state=Q.Y;b&&(ia(b),Ja(b))}function $a(a,b,c){b=B[b.j];b.listenerFired=c;a.call(k,b);b.listenerFired=!1}function ca(a,
b,c){for(var d=-1,e=a.length-1;d++<e;){var h=a[d];!I(h)&&h[0]?I(h[0])&&h[1].animationId===b.h&&$a(h[0],b,c):I(h)&&$a(h,b,c)}}function Ba(a){a=a.toLowerCase();switch(a){case K.start:var b=xa;break;case K.a:b=za;break;case K.iterations:b=ja;break;case K.N:b=ya}return b}function ab(a,b,c){for(var d=Ba(a),e=d.length-1,h=-1,g=[];h++<e;){var f=d[h];if(!I(f)&&f[0]){if(O(f[0].toString())!==O(b.toString())||f[1]!==c)g[g.length]=f}else O(f.toString())!==O(b.toString())&&(g[g.length]=f)}switch(a){case K.start:xa=
g;break;case K.a:za=g;break;case K.iterations:ja=g;break;case K.N:ya=g}}function lb(a,b,c){b=Ba(b);b[b.length]=a?[c,a]:c}function mb(a,b,c){ab(b,c,a)}function Oa(a){return F(a)?Math.floor(1E3*a):a}function ib(a,b){var c=Math.min(a,b);a=Math.max(a,b);if(c===a)return 0;if(0===c)return Math.abs(a);if(0===a)return Math.abs(c);b=0;for(var d=Math.abs(c)/Math.round(Math.abs(a));c!==a&&c<a;)c+=d,b+=d;return b}function y(a){if(!N(a))return parseFloat(a);for(var b=a.length;b--;)a[b]=parseFloat(a[b]);return a}
function I(a){return"function"===typeof a}function N(a){return"object"===typeof a}function F(a){return"number"===typeof a}function M(a){return"string"===typeof a}function pa(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function O(a){return a.replace(/[ ]+/g,"")}function da(a){return a.replace(/[  ]+/g," ")}function ra(a){var b=[],c;for(c in a)b.push(c);return b}function Ta(){var a=q.createElement("style");nb.appendChild(a);a.id="controlAnimationJS-animations-style";return a}function na(a){return/^#([0-9A-F]{3}){1,2}$/i.test(a)}
function Ha(a){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(a))return a=a.substring(1).split(""),3===a.length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),a="0x"+a.join(""),"rgb("+[a>>16&255,a>>8&255,a&255].join()+")"}function controlAnimation(){}for(var nb=q.body,ha={},C={},W=[],R=[],Y={},Z={},ba=0,Ra,D={R:"normal",reverse:"reverse",W:"alternate",X:"alternate-reverse",L:"random-keys",ha:"random-offset",P:"fluid-random-keys",ea:"fluid-random-offset"},Q={F:"running",paused:"paused",Z:"completed",Y:"canceled"},K={start:"start",
end:"end",iterations:"iterations",N:"changekeys"},fa=0,S=[],B=[],za=[],ja=[],xa=[],ya=[],Sa=Ta(),Na={direction:D.R,iterations:1,fill:!1,easing:function(a,b,c,d){return c*a/d+b},duration:3,delay:!1,styleBetweenFrames:!0,keepFrameStyle:!1,insertStyle:"auto"},va=13.6,wa,ob=["moz","ms","o","webkit"],ka;!k.requestAnimationFrame&&(ka=ob.pop());)k.requestAnimationFrame&&(k.requestAnimationFrame=k[ka+"RequestAnimationFrame"],k.cancelAnimationFrame=k[ka+"CancelAnimationFrame"]||k[ka+"CancelRequestAnimationFrame"]);
k.requestAnimationFrame?(k.performance&&k.performance.now&&(va=!1),wa=function(a,b,c){if(isNaN(b))return b=k.requestAnimationFrame(a),R[R.length]=[b,"none",c],"none";var d=setTimeout(function(){var e=k.requestAnimationFrame(a);R[R.length]=[e,d,c]},b);return d}):wa=function(a,b){return k.setTimeout(function(){a.call(k)},b||0)};MyAnimation.prototype={pause:function(){Va(this)},resume:function(){Wa(this)},cancel:function(){Za(this)},go:function(a){Aa(this,a)},back:function(a){Xa(this,a)},restart:function(){Ya(this)},
addListener:function(a,b){a=Ba(a);a[a.length]=this?[b,this]:b},removeListener:function(a,b){ab(a,b,this)},clone:function(a){var b=a.length||a,c=[],d=-1;for(b=1<b?b:1;d++<b;){var e=U(this,"clone");if(e){var h=X(this);e=e.v;for(var g in e)h[g]=e[g];h=new MyAnimation(h);a[d]&&(h.element=a[d]);c[c.length]=h}}return c}};controlAnimation.prototype={create:MyAnimation,play:U,pauseAll:function(){J([Va])},resumeAll:function(){J([Wa])},restartAll:function(){J([Ya])},cancelAll:function(){J([Za])},goAll:function(a){J([Aa,
a])},backAll:function(a){J([Xa,a])},addListenerAll:function(a,b){J([lb,a,b])},removeListenerAll:function(a,b){J([mb,a,b])},get:La,getAll:La,config:function(){return Na}};var Ca=new controlAnimation;"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=Ca:"function"===typeof define&&define.amd?define("controlAnimation",[],function(){return Ca}):k.controlAnimation=Ca})("undefined"!==typeof window?window:this,document,Infinity);
